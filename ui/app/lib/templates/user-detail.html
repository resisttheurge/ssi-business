<div flex layout="column" layout-align="start stretch">
  <!-- outer frame -->
  <div layout-margin layout="row" layout-align="center stretch">
    <!-- card frame  -->
    <md-card flex="85" layout="column">
      <!-- toolbar/content frame -->
      <div layout="column">

        <md-toolbar>
          <div class="md-toolbar-tools">
            <h1>{{update ? 'Edit User Details' : 'Create New User'}}</h1>
            <span flex></span>
            <md-button
                class="md-raised"
                ng-disabled="detailForm.$pristine || !detailForm.$valid"
                ng-click="update ? update(user) : create(user)">
              Save
            </md-button>
          </div>
          <md-progress-linear md-mode="loading ? 'indeterminate' : ''"></md-progress-linear>
        </md-toolbar>
        <md-content flex>
          <ng-form name="detailForm" ng-hide="loading" autocomplete="off">
            <div layout="column" >
              <div layout="row" layout-margin>
                <div layout="column" flex layout-align="space-around">
                  <md-input-container>
                    <label>Username</label>
                    <input ng-model="user.username" type="text" autocomplete="off" required="true" md-maxlength="100" >
                  </md-input-container>
                  <md-input-container ng-if="!user.id">
                    <label>Password</label>
                    <input name="password" ng-model="user.password" type="password" autocomplete="off" md-minlength="8" required="true">
                  </md-input-container>
                  <label ng-hide="user.id || user.password.length >= 8" style="color: red;">* </label>
                </div>
                <md-divider></md-divider>
                <div layout="column" flex layout-align="space-around">
                  <md-input-container>
                    <md-checkbox ng-model="user.active" id="activeCheckBox">
                      Active
                    </md-checkbox>
                  </md-input-container>
                  <md-input-container>
                    <md-switch class="md-primary" ng-model="user.adminSelected">
                      {{user.adminSelected ? 'Administrator' : 'Employee'}}
                    </md-switch>
                  </md-input-container>
                </div>
              </div>

            </div>
          </ng-form>
        </md-content>

      </div>
    </md-card>
  </div>
</div>
